## JavaScript的sort() 方法

### 1. 实现方法

JS 的`sort()`方法是通过**插入排序+快速排序**实现的，当数组元素个数小于10的时候用插入排序，大于10的时候用快速排序

## 2. JS的sort()方法需要重写比较函数

默认地，`sort()` 函数按照*字符串*顺序对值进行排序。该函数很适合字符串（"Apple" 会排在 "Banana" 之前）。

不过，如果数字按照字符串来排序，则 "25" 大于 "100"，因为 "2" 大于 "1"。正因如此，`sort()` 方法在对数值排序时会产生不正确的结果。

我们通过一个*比值函数*来修正此问题：

```javascript
var points = [40, 100, 1, 5, 25, 10];
points.sort(function(a, b){return a - b}); 
```

### 3. 比值函数

比较函数的目的是定义另一种排序顺序。

比较函数应该返回一个负，零或正值，这取决于参数：

```javascript
function(a, b){return a-b}
```

当 `sort()` 函数比较两个值时，会将值发送到比较函数，并根据所返回的值（负、零或正值）对这些值进行排序。

**实例**：

当比较 40 和 100 时，`sort()` 方法会调用比较函数 function(40,100)。

该函数计算 40-100，然后返回 -60（负值）。

排序函数将把 40 排序为比 100 更低的值。



因此，可以通过返回值是`a-b`还是`b-a`来判断升序还是降序

```javascript
let array = [1, 5, 6, 2, 7, 8];
// 升序
array.sort(function(a, b) {
   return a - b;
});
// 降序
array.sort(function(a, b) {
    return b - a;
});
```

同时，我们可以更加自主化的定义比值函数，比如按照数组的第一个元素升序排列数组